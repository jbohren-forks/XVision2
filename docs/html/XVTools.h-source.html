<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/home/burschka/XVision2-2.0.0/src/Tools/XVTools.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.0 on Fri Oct 26 00:17:16 2007 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>/home/burschka/XVision2-2.0.0/src/Tools/XVTools.h</h1><div class="fragment"><pre>00001 <font class="comment">// *** BEGIN_XVISION2_COPYRIGHT_NOTICE ***</font>
00002 <font class="comment">// *** END_XVISION2_COPYRIGHT_NOTICE ***</font>
00003 
00018 <font class="preprocessor">#ifndef _XVTOOLS_H_
</font>00019 <font class="preprocessor"></font><font class="preprocessor">#define _XVTOOLS_H_
</font>00020 <font class="preprocessor"></font>
00021 <font class="preprocessor">#include &lt;sys/types.h&gt;</font>
00022 <font class="preprocessor">#include &lt;math.h&gt;</font>
00023 
00024 <font class="comment">//-----------------------------------------------------------------------------</font>
00025 <font class="comment">//  Global inline functions</font>
00026 <font class="comment">//-----------------------------------------------------------------------------</font>
00027 
00028 <font class="keyword">template</font>&lt;<font class="keyword">class </font>T&gt; <font class="keyword">inline</font> T min2 (T a, T b)<font class="keyword">
</font>00029 <font class="keyword"></font>{ <font class="keywordflow">return</font> a &lt; b? a: b; }
00030 
00031 <font class="keyword">template</font>&lt;<font class="keyword">class </font>T&gt; <font class="keyword">inline</font> T max2 (T a, T b)<font class="keyword">
</font>00032 <font class="keyword"></font>{ <font class="keywordflow">return</font> a &gt; b? a: b; }
00033 
00034 <font class="keyword">template</font>&lt;<font class="keyword">class </font>T&gt; <font class="keyword">inline</font> T absi (T x)<font class="keyword">
</font>00035 <font class="keyword"></font>{ <font class="keywordflow">return</font> x &gt; 0? x: -x; }
00036 
00037 <font class="preprocessor">#ifndef __SC__
</font>00038 <font class="preprocessor"></font><font class="keyword">template</font>&lt;<font class="keyword">class </font>T&gt; <font class="keyword">inline</font> <font class="keywordtype">int</font> signum (T x)<font class="keyword">
</font>00039 <font class="keyword"></font>{ <font class="keywordflow">return</font> x &gt; 0? 1: -1; }
00040 
00041 <font class="preprocessor">#else
</font>00042 <font class="preprocessor"></font><font class="preprocessor">#include &lt;stdlib.h&gt;</font>
00043 <font class="preprocessor">#define signum(x) (x &gt;= 0)
</font>00044 <font class="preprocessor"></font><font class="preprocessor">#endif
</font>00045 <font class="preprocessor"></font>
00046 <font class="keyword">inline</font> <font class="keywordtype">bool</font> odd (<font class="keywordtype">int</font> n)<font class="keyword">
</font>00047 <font class="keyword"></font>{ <font class="keywordflow">return</font> (<font class="keywordtype">bool</font>)(n &amp; 1); }
00048 
00049 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00050 <font class="keyword">inline</font> <font class="keywordtype">int</font> round (T x)<font class="keyword">
</font>00051 <font class="keyword"></font>{ <font class="keywordflow">return</font> signum(x)*int (absi(x) + .5); }
00052 
00053 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00054 <font class="keyword">inline</font> T rint (T x)<font class="keyword">
</font>00055 <font class="keyword"></font>{ <font class="keywordflow">return</font> (T)signum(x)*int (absi(x) + .5); }
00056 
00057 <font class="keyword">inline</font> <font class="keywordtype">float</font> half (<font class="keywordtype">int</font> l)<font class="keyword">
</font>00058 <font class="keyword"></font>{ <font class="keywordflow">return</font> float (l) / 2; }
00059 
00060 <font class="keyword">inline</font> <font class="keywordtype">float</font> rad_deg (<font class="keywordtype">float</font> r)<font class="keyword">
</font>00061 <font class="keyword"></font>{ <font class="keywordflow">return</font> r / M_PI * 180; }
00062 
00063 <font class="keyword">inline</font> <font class="keywordtype">float</font> deg_rad (<font class="keywordtype">float</font> d)<font class="keyword">
</font>00064 <font class="keyword"></font>{ <font class="keywordflow">return</font> d / 180 * M_PI; }
00065 
00066 <font class="keyword">inline</font> <font class="keywordtype">float</font> radmod (<font class="keywordtype">float</font> op, <font class="keywordtype">float</font> div)<font class="keyword">
</font>00067 <font class="keyword"></font>{ <font class="keywordflow">return</font> absi(op - (((<font class="keywordtype">int</font>)(op / div)) * div)); }
00068 
00069 <font class="keyword">template</font>&lt;<font class="keyword">class </font>T&gt; <font class="keyword">inline</font> T sqr (T x)<font class="keyword">
</font>00070 <font class="keyword"></font>{ <font class="keywordflow">return</font> x*x;}
00071 
00072 <font class="keyword">template</font>&lt;<font class="keyword">class </font>T&gt; <font class="keyword">inline</font> <font class="keywordtype">void</font> copy (T *dest, T *src,<font class="keywordtype">int</font> n)<font class="keyword">
</font>00073 <font class="keyword"></font>{memcpy(dest,src,n*<font class="keyword">sizeof</font>(T));}
00074 
00075 <font class="keyword">inline</font> <font class="keywordtype">void</font> bitset(<font class="keywordtype">unsigned</font> &amp;bits, <font class="keywordtype">int</font> n)<font class="keyword"> </font>{
00076   bits |= (0x1 &lt;&lt; n);
00077 }
00078 
00079 <font class="keyword">inline</font> <font class="keywordtype">int</font> isset(<font class="keywordtype">unsigned</font> bits, <font class="keywordtype">int</font> n)<font class="keyword"> </font>{
00080   <font class="keywordflow">return</font> ((bits &amp; (0x1 &lt;&lt; n)) != 0);
00081 }
00082 
00083 <font class="keyword">inline</font> <font class="keywordtype">void</font> bitclear(<font class="keywordtype">unsigned</font> &amp;bits, <font class="keywordtype">int</font> n)<font class="keyword"> </font>{
00084   bits &amp;= ~(0x1 &lt;&lt; n);
00085 }
00086 
00087 <font class="keyword">inline</font> <font class="keywordtype">void</font> bittoggle(<font class="keywordtype">unsigned</font> &amp;bits,<font class="keywordtype">int</font> n, <font class="keywordtype">int</font> flag)<font class="keyword"> </font>{
00088   <font class="keywordflow">if</font> (flag)
00089     bitset(bits,n);
00090   <font class="keywordflow">else</font>
00091     bitclear(bits,n);
00092 }
00093 
00094 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00095 <font class="keyword">inline</font> T avg(<font class="keyword">const</font> T * values, <font class="keywordtype">int</font> num)<font class="keyword"></font>{
00096 
00097   T sum = 0;
00098   <font class="keywordflow">for</font>(<font class="keywordtype">int</font> i = 0; i &lt; num; i++){
00099 
00100     sum += values[i];
00101   }
00102   <font class="keywordflow">return</font> sum / num;
00103 };
00104 
00105 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00106 <font class="keyword">inline</font> T maxi(<font class="keyword">const</font> T * arr, <font class="keyword">const</font> <font class="keywordtype">int</font> size, T &amp; max, <font class="keywordtype">int</font> &amp; index)<font class="keyword"></font>{
00107 
00108   max = arr[0];
00109   index = 0;
00110   <font class="keywordflow">for</font>(<font class="keywordtype">int</font> i = 1; i &lt; size; i++){
00111 
00112     <font class="keywordflow">if</font>(max &lt; arr[i]){ index = i; max = arr[i]; }
00113   }
00114   <font class="keywordflow">return</font> max;
00115 };
00116 
00117 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00118 <font class="keyword">inline</font> T mini(<font class="keyword">const</font> T * arr, <font class="keyword">const</font> <font class="keywordtype">int</font> size, T &amp; min, <font class="keywordtype">int</font> &amp; index)<font class="keyword"></font>{
00119 
00120   min = arr[0];
00121   index = 0;
00122   <font class="keywordflow">for</font>(<font class="keywordtype">int</font> i = 1; i &lt; size; i++){
00123 
00124     <font class="keywordflow">if</font>(min &gt; arr[i]){ index = i; min = arr[i]; }
00125   }
00126   <font class="keywordflow">return</font> min;
00127 };
00128 
00129 <font class="preprocessor">#endif
</font></div></pre><hr><address><small>Generated at Fri Oct 26 00:17:16 2007 for XVision by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.0 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
