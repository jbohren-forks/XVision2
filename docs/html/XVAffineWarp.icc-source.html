<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/home/burschka/XVision2-2.0.0/src/Tools/XVAffineWarp.icc Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.0 on Fri Oct 26 00:17:16 2007 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>/home/burschka/XVision2-2.0.0/src/Tools/XVAffineWarp.icc</h1><div class="fragment"><pre>00001 <font class="comment">// *** BEGIN_XVISION2_COPYRIGHT_NOTICE ***</font>
00002 <font class="comment">// *** END_XVISION2_COPYRIGHT_NOTICE ***</font>
00003 <font class="preprocessor">#ifndef _XVAFFINEWARP_ICC_
</font>00004 <font class="preprocessor"></font><font class="preprocessor">#define _XVAFFINEWARP_ICC_
</font>00005 <font class="preprocessor"></font>
00006 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00007 <font class="keyword">inline</font> <a class="code" href="class_XVImageBase.html">XVImageBase</a>&lt;T&gt; &amp; cropAroundPoly(<font class="keyword">const</font> <a class="code" href="class_XVImageBase.html">XVImageBase</a>&lt;T&gt; &amp; im, <a class="code" href="class_XVImageBase.html">XVImageBase</a>&lt;T&gt; &amp; croppedIM, 
00008                            <font class="keyword">const</font> <font class="keywordtype">int</font> * cornersX, <font class="keyword">const</font> <font class="keywordtype">int</font> * cornersY, 
00009                            <font class="keyword">const</font> <font class="keywordtype">int</font> numOfCorners)<font class="keyword"></font>{
00010                                 
00011   <font class="keywordtype">int</font> minX, minXind, minY, minYind, maxX, maxXind, maxY, maxYind;
00012   mini(cornersX, numOfCorners, minX, minXind);
00013   mini(cornersY, numOfCorners, minY, minYind);
00014   maxi(cornersX, numOfCorners, maxX, maxXind);
00015   maxi(cornersY, numOfCorners, maxY, maxYind);
00016   
00017   <font class="keywordflow">if</font>(minX &lt; 0)                minX = 0;
00018   <font class="keywordflow">else</font> <font class="keywordflow">if</font>(minX &gt; im.Width())  minX = im.Width() - 1;  
00019   <font class="keywordflow">if</font>(minY &lt; 0)                minY = 0;
00020   <font class="keywordflow">else</font> <font class="keywordflow">if</font>(minY &gt; im.Height()) minY = im.Height() - 1;
00021   <font class="keywordflow">if</font>(maxX &lt; 0)                maxX = 0;
00022   <font class="keywordflow">else</font> <font class="keywordflow">if</font>(maxX &gt; im.Width())  maxX = im.Width() - 1;  
00023   <font class="keywordflow">if</font>(minY &lt; 0)                maxY = 0;
00024   <font class="keywordflow">else</font> <font class="keywordflow">if</font>(maxY &gt; im.Height()) maxY = im.Height() - 1;
00025 
00026   <font class="keywordtype">int</font> w = maxX - minX;
00027   <font class="keywordtype">int</font> h = maxY - minY;
00028   
00029   croppedIM = subimage(im, minX, minY, w, h);
00030   <font class="keywordflow">return</font> croppedIM;
00031 };
00032 
00033 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00034 <font class="keyword">inline</font> T warpRect(<font class="keyword">const</font> T &amp; im, 
00035             <font class="keyword">const</font> XVPosition &amp; center, 
00036             <font class="keyword">const</font> <a class="code" href="class_XVSize.html">XVSize</a> &amp; size,
00037             <font class="keywordtype">float</font> angle)<font class="keyword"> </font>{    
00038  
00039   <a class="code" href="class_XVAffineWarp.html">XVAffineWarp</a>&lt;<font class="keyword">typename</font> T::PIXELTYPE&gt; transform(angle);
00040 
00041   T warpedIM(size.Width(), size.Height());
00042     
00043   transform.warp(im, warpedIM, (<a class="code" href="class_XV2Vec.html">XVCoord2D</a>)center);
00044 
00045   <font class="keywordflow">return</font> warpedIM;
00046 };
00047 
00048 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00049 <font class="keyword">inline</font> T warpRect(<font class="keyword">const</font> T &amp; im, 
00050             <font class="keyword">const</font> XVPosition &amp; center, 
00051             <font class="keyword">const</font> <a class="code" href="class_XVSize.html">XVSize</a> &amp; size,
00052             <font class="keywordtype">float</font> sheer, <font class="keywordtype">float</font> d1, <font class="keywordtype">float</font> d2)<font class="keyword"> </font>{    
00053   
00054 
00055   <a class="code" href="class_XVAffineWarp.html">XVAffineWarp</a>&lt;<font class="keyword">typename</font> T::PIXELTYPE&gt; transform(sheer, d1, d2);
00056   T warpedIM(size.Width(), size.Height());
00057     
00058   transform.warp(im, warpedIM, (<a class="code" href="class_XV2Vec.html">XVCoord2D</a>)center);
00059   
00060   <font class="keywordflow">return</font> warpedIM;
00061 };
00062 
00063 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00064 <font class="keyword">inline</font> T warpRect(<font class="keyword">const</font> T &amp; im, 
00065             <font class="keyword">const</font> XVPosition &amp; center, 
00066             <font class="keyword">const</font> <a class="code" href="class_XVSize.html">XVSize</a> &amp; size,
00067             <font class="keywordtype">float</font> sx, <font class="keywordtype">float</font> sy)<font class="keyword"> </font>{    
00068   
00069 
00070   <a class="code" href="class_XVAffineWarp.html">XVAffineWarp</a>&lt;<font class="keyword">typename</font> T::PIXELTYPE&gt; transform(sx, sy);
00071   T warpedIM(size.Width(), size.Height());
00072     
00073   transform.warp(im, warpedIM, (<a class="code" href="class_XV2Vec.html">XVCoord2D</a>)center);
00074 
00075   <font class="keywordflow">return</font> warpedIM;
00076 };
00077 
00078 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00079 <font class="keyword">inline</font> T warpRect(<font class="keyword">const</font> T &amp; im,
00080             <font class="keyword">const</font> XVPosition &amp; center,
00081             <font class="keyword">const</font> <a class="code" href="class_XVSize.html">XVSize</a> &amp; size,
00082             <font class="keywordtype">float</font> theta, <font class="keywordtype">float</font> sx, <font class="keywordtype">float</font> sy, <font class="keywordtype">float</font> sh)<font class="keyword"></font>{
00083 
00084   <a class="code" href="class_XVAffineWarp.html">XVAffineWarp</a>&lt;<font class="keyword">typename</font> T::PIXELTYPE&gt; transform(theta, sx, sy, sh);
00085 
00086   T warpedIM(size.Width(), size.Height());
00087   
00088   transform.warp(im, warpedIM, (<a class="code" href="class_XV2Vec.html">XVCoord2D</a>)center);
00089 
00090   <font class="keywordflow">return</font> warpedIM;
00091 };
00092 
00093 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00094 <font class="keyword">inline</font> T warpRect(<font class="keyword">const</font> T &amp; im,
00095             <font class="keyword">const</font> XVPosition &amp; center,
00096             <font class="keyword">const</font> <a class="code" href="class_XVSize.html">XVSize</a> &amp; size,
00097             <a class="code" href="class_XVAffineMatrix.html">XVAffineMatrix</a> warp_matrix)<font class="keyword"></font>{
00098   
00099   <a class="code" href="class_XVAffineWarp.html">XVAffineWarp</a>&lt;<font class="keyword">typename</font> T::PIXELTYPE&gt; transform(warp_matrix);
00100   T warpedIM(size.Width(), size.Height());
00101   
00102   transform.warp(im, warpedIM, (<a class="code" href="class_XV2Vec.html">XVCoord2D</a>)center);
00103 
00104   <font class="keywordflow">return</font> warpedIM;
00105 };
00106   
00107 <font class="preprocessor">#endif
</font></div></pre><hr><address><small>Generated at Fri Oct 26 00:17:16 2007 for XVision by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.0 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
