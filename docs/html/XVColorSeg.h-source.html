<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/home/burschka/XVision2-2.0.0/src/Segmentation/XVColorSeg.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.0 on Fri Oct 26 00:17:16 2007 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>/home/burschka/XVision2-2.0.0/src/Segmentation/XVColorSeg.h</h1><div class="fragment"><pre>00001 <font class="comment">// *** BEGIN_XVISION2_COPYRIGHT_NOTICE ***</font>
00002 <font class="comment">// *** END_XVISION2_COPYRIGHT_NOTICE ***</font>
00003 
00004 <font class="preprocessor">#ifndef _XVCOLORSEG_H_
</font>00005 <font class="preprocessor"></font><font class="preprocessor">#define _XVCOLORSEG_H_
</font>00006 <font class="preprocessor"></font>
00007 <font class="preprocessor">#include &lt;math.h&gt;</font>
00008 <font class="preprocessor">#include &lt;XVSegmentation.h&gt;</font>
00009 <font class="preprocessor">#include &lt;XVTools.h&gt;</font>
00010 <font class="preprocessor">#include &lt;XVImageRGB.h&gt;</font>
00011 <font class="preprocessor">#include &lt;XVImageScalar.h&gt;</font>
00012 
00013 <font class="preprocessor">#define DEFAULT_DISTANCE  20
</font>00014 <font class="preprocessor"></font><font class="preprocessor">#define DEFAULT_SECTOR_NUM 360
</font>00015 <font class="preprocessor"></font><font class="preprocessor">#define DEFAULT_HUERANGE_WIDTH 4
</font>00016 <font class="preprocessor"></font>
00017 <font class="preprocessor">#define MAX_HUE_SECTOR_NUM 4000
</font>00018 <font class="preprocessor"></font>
00019 <font class="keyword">typedef</font> <font class="keyword">struct</font>{
00020 
00021   <font class="keywordtype">float</font> min;
00022   <font class="keywordtype">float</font> max;
00023 
00024 } HUERANGE;
00025 
00026 <font class="keyword">static</font> <font class="keyword">const</font> HUERANGE DEFAULT_HUERANGE = {-1, -1};
00027 
00028 <font class="comment">/************************************************
</font>00029 <font class="comment"> * Table and Segmentation classes for Hue based
</font>00030 <font class="comment"> * Segmentation
</font>00031 <font class="comment"> ************************************************/</font>
00032 
00038 <font class="comment">/************************************************
</font>00039 <font class="comment"> * Table and Segmentation classes for Sector
</font>00040 <font class="comment"> * based Segmentation.  The hue values of the
</font>00041 <font class="comment"> * pixels are divided into sectors
</font>00042 <font class="comment"> * and an image is segmented based on those 
</font>00043 <font class="comment"> * sectors
</font>00044 <font class="comment"> ************************************************/</font>
00045 
00050 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T, <font class="keyword">class </font>Y&gt;
<a name="l00051"></a><a class="code" href="class_XVHueSectorTable.html">00051</a> <font class="keyword">class </font><a class="code" href="class_XVHueSectorTable.html">XVHueSectorTable</a> : <font class="keyword">public</font> <font class="keyword">virtual</font> <a class="code" href="class_XVRGBTable.html">XVRGBTable</a>&lt;T, Y&gt;{
00052 
00053  <font class="keyword">protected</font>:
00054 
00055   u_char darkPix, brightPix;
00056 
00057   <font class="keywordtype">int</font> numOfSectors;
00058 
00059   Y computeValue(T);
00060   
00061  <font class="keyword">public</font>:
00062   
00063   XVHueSectorTable(<font class="keywordtype">int</font> num, u_char dp, u_char bp) : <a class="code" href="class_XVRGBTable.html">XVRGBTable</a>&lt;T, Y&gt;(), numOfSectors(num), darkPix(dp), brightPix(bp)<font class="keyword"> </font>{ 
00064     <font class="keywordflow">if</font>(numOfSectors &gt; MAX_HUE_SECTOR_NUM) { 
00065       <font class="keywordflow">throw</font> XVSegException(<font class="stringliteral">"too many sectors for XVHueSectorTable"</font>); 
00066     }
00067     this-&gt;buildTable(); 
00068   };
00069 
00070   <font class="keywordtype">int</font> getSectors()<font class="keyword"></font>{ <font class="keywordflow">return</font> numOfSectors; };
00071 };
00072 
00077 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T, <font class="keyword">class </font>Y&gt;
<a name="l00078"></a><a class="code" href="class_XVHueSeg.html">00078</a> <font class="keyword">class </font><a class="code" href="class_XVHueSeg.html">XVHueSeg</a> : <font class="keyword">public</font> <font class="keyword">virtual</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T, Y&gt;{
00079  <font class="keyword">protected</font>:
00080   <font class="keyword">using</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T,Y&gt;::histSize ;
00081   <font class="keyword">using</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T,Y&gt;::histArraySize ;
00082   <font class="keyword">using</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T,Y&gt;::histogram ;
00083   <font class="keyword">using</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T,Y&gt;::lookup ;
00084 
00085  <font class="keyword">protected</font>:
00086 
00087   <font class="keywordtype">int</font> numOfSectors;
00088 
00089  <font class="keyword">public</font>:
00090 
00091   XVHueSeg(<font class="keywordtype">int</font> sec = DEFAULT_SECTOR_NUM, 
00092         u_char dp = DEFAULT_DARK_PIXEL, 
00093         u_char bp = DEFAULT_BRIGHT_PIXEL);
00094   XVHueSeg(<a class="code" href="class_XVHueSectorTable.html">XVHueSectorTable</a>&lt;T, Y&gt; *);
00095 
00096   <font class="keywordtype">float</font> findBestHue(<font class="keyword">const</font> <a class="code" href="class_XVImageBase.html">XVImageBase</a>&lt;T&gt; &amp;);
00097 
00098   <font class="keywordtype">int</font> getNumOfSectors()<font class="keyword"></font>{ <font class="keywordflow">return</font> this-&gt;numOfSectors; }
00099 
00100   <font class="keywordtype">void</font> update(<font class="keyword">const</font> <a class="code" href="class_XVImageBase.html">XVImageBase</a>&lt;T&gt; &amp; roiIM)<font class="keyword"></font>{};
00101 };
00102 
00103 <font class="comment">/************************************************
</font>00104 <font class="comment"> * Table and Segmentation classes for Color
</font>00105 <font class="comment"> * Segmentation based on the distance from some
</font>00106 <font class="comment"> * specified color.  
</font>00107 <font class="comment"> ************************************************/</font>
00108 
00117 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
<a name="l00118"></a><a class="code" href="class_XVRGBDistanceTable.html">00118</a> <font class="keyword">class </font><a class="code" href="class_XVRGBDistanceTable.html">XVRGBDistanceTable</a> : <font class="keyword">public</font> <font class="keyword">virtual</font> <a class="code" href="class_XVRGBTable.html">XVRGBTable</a>&lt;T, bool&gt;{
00119 
00120  <font class="keyword">protected</font>:
00121 
00122   T baseColor;
00123   <font class="keywordtype">float</font> bcLength;
00124   u_short distance;
00125 
00126   <font class="keywordtype">bool</font> computeValue(T);
00127   
00128  <font class="keyword">public</font>:
00129 
00130   XVRGBDistanceTable(T, u_short);
00131 };
00132 
00133 <font class="keyword">inline</font> <font class="keywordtype">bool</font> RGB_DISTANCE_CHECK(<font class="keyword">const</font> <font class="keywordtype">bool</font> val)<font class="keyword"></font>{ <font class="keywordflow">return</font> val; };
00134 
00140 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
<a name="l00141"></a><a class="code" href="class_XVRGBDistanceSeg.html">00141</a> <font class="keyword">class </font><a class="code" href="class_XVRGBDistanceSeg.html">XVRGBDistanceSeg</a> : <font class="keyword">public</font> <font class="keyword">virtual</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T, bool&gt;{
00142  <font class="keyword">protected</font>:
00143   <font class="keyword">using</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T,<font class="keywordtype">bool</font>&gt;::histSize ;
00144   <font class="keyword">using</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T,<font class="keywordtype">bool</font>&gt;::histArraySize ;
00145   <font class="keyword">using</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T,<font class="keywordtype">bool</font>&gt;::histogram ;
00146   <font class="keyword">using</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T,<font class="keywordtype">bool</font>&gt;::lookup ;
00147 
00148  <font class="keyword">public</font>:
00149 
00150   XVRGBDistanceSeg(T, u_short dist = DEFAULT_DISTANCE,
00151              <a class="code" href="class_XVRGBDistanceTable.html">XVRGBDistanceTable</a>&lt;T&gt; * table = NULL);
00152 
00153   <font class="keywordtype">void</font> update(<font class="keyword">const</font> <a class="code" href="class_XVImageBase.html">XVImageBase</a>&lt;T&gt; &amp; roiIM)<font class="keyword"></font>{};
00154 };
00155 
00156 
00157 <font class="comment">/************************************************
</font>00158 <font class="comment"> * Table and Segmentation classes for Color
</font>00159 <font class="comment"> * Segmentation based on a range of Hue values
</font>00160 <font class="comment"> ************************************************/</font>
00161 
00169 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T, <font class="keyword">class </font>Y&gt;
<a name="l00170"></a><a class="code" href="class_XVHueRangeTable.html">00170</a> <font class="keyword">class </font><a class="code" href="class_XVHueRangeTable.html">XVHueRangeTable</a> : <font class="keyword">public</font> <font class="keyword">virtual</font> <a class="code" href="class_XVRGBTable.html">XVRGBTable</a>&lt;T, Y&gt;{
00171 
00172  <font class="keyword">protected</font>:
00173 
00174   Y computeValue(T);
00175   u_char darkPix, brightPix;
00176 
00177  <font class="keyword">public</font>:
00178 
00179   HUERANGE hueRange;
00180 
00181   <a class="code" href="class_XVHueSectorTable.html">XVHueSectorTable</a>&lt;T, Y&gt; * hueTable;
00182   
00183   XVHueRangeTable(HUERANGE range, u_char dp, u_char bp) : <a class="code" href="class_XVRGBTable.html">XVRGBTable</a>&lt;T, Y&gt;() { 
00184     hueTable = <font class="keyword">new</font> <a class="code" href="class_XVHueSectorTable.html">XVHueSectorTable</a>&lt;T, Y&gt;(DEFAULT_SECTOR_NUM, dp, bp);
00185     hueRange = range; 
00186     this-&gt;buildTable(); 
00187   }
00188 
00189   ~XVHueRangeTable()<font class="keyword"></font>{ <font class="keyword">delete</font> hueTable; };
00190 
00191   <font class="keywordtype">void</font> updateTable(HUERANGE);
00192   HUERANGE getRange()<font class="keyword"> </font>{ <font class="keywordflow">return</font> hueRange; }
00193 };
00194 
00195 <font class="keyword">template</font> &lt;<font class="keyword">class </font>Y&gt;
00196 <font class="keyword">inline</font> <font class="keywordtype">bool</font> RANGE_SEGFUNC(<font class="keyword">const</font> Y val)<font class="keyword"></font>{ <font class="keywordflow">return</font> (<font class="keywordtype">bool</font>)val; }
00197 
00198 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T, <font class="keyword">class </font>Y&gt;
00199 <font class="keyword">class </font>XVHueRangeSeg : <font class="keyword">public</font> <font class="keyword">virtual</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T, Y&gt;{
00200  <font class="keyword">protected</font>:
00201   <font class="keyword">using</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T,Y&gt;::histSize ;
00202   <font class="keyword">using</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T,Y&gt;::histArraySize ;
00203   <font class="keyword">using</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T,Y&gt;::histogram ;
00204   <font class="keyword">using</font> <a class="code" href="class_XVSegmentation.html">XVSegmentation</a>&lt;T,Y&gt;::lookup ;
00205 
00206  <font class="keyword">private</font>:
00207   <font class="keywordtype">int</font> rangeWidth;
00208   <a class="code" href="class_XVHueRangeTable.html">XVHueRangeTable</a>&lt;T, Y&gt; * temp_Table;
00209 
00210  <font class="keyword">public</font>:
00211 
00212   XVHueRangeSeg(HUERANGE range = DEFAULT_HUERANGE, <font class="keywordtype">int</font> rW = DEFAULT_HUERANGE_WIDTH,
00213           <font class="keywordtype">int</font> sec = DEFAULT_SECTOR_NUM, 
00214           u_char dp = DEFAULT_DARK_PIXEL, u_char bp = DEFAULT_BRIGHT_PIXEL);
00215   XVHueRangeSeg(<a class="code" href="class_XVHueRangeTable.html">XVHueRangeTable</a>&lt;T, Y&gt; *);
00216   XVHueRangeSeg(<a class="code" href="class_XVImageRGB.html">XVImageRGB</a>&lt;T&gt; &amp;, <font class="keywordtype">int</font> rW = DEFAULT_HUERANGE_WIDTH,
00217           <font class="keywordtype">int</font> sec = DEFAULT_SECTOR_NUM,
00218           u_char dp = DEFAULT_DARK_PIXEL, u_char bp = DEFAULT_BRIGHT_PIXEL);
00219  
00220   <font class="keywordtype">void</font> updateTable(HUERANGE);
00221 
00222   <font class="keywordtype">float</font> findBestHue(<font class="keyword">const</font> <a class="code" href="class_XVImageBase.html">XVImageBase</a>&lt;T&gt; &amp;);
00223 
00224   <font class="keywordtype">void</font> update(<font class="keyword">const</font> <a class="code" href="class_XVImageBase.html">XVImageBase</a>&lt;T&gt; &amp;);
00225   HUERANGE getRange()<font class="keyword"></font>{ <font class="keywordflow">return</font> <font class="keyword">dynamic_cast</font>&lt;<a class="code" href="class_XVHueRangeTable.html">XVHueRangeTable</a>&lt;T, Y&gt; *&gt;(lookup)-&gt;getRange(); }
00226 };
00227 
00228 <font class="preprocessor">#endif
</font>00229 <font class="preprocessor"></font>
</div></pre><hr><address><small>Generated at Fri Oct 26 00:17:16 2007 for XVision by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.0 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
