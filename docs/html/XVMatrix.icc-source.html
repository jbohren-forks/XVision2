<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/home/burschka/XVision2-2.0.0/src/Tools/XVMatrix.icc Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.0 on Fri Oct 26 00:17:16 2007 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>/home/burschka/XVision2-2.0.0/src/Tools/XVMatrix.icc</h1><div class="fragment"><pre>00001 <font class="comment">// *** BEGIN_XVISION2_COPYRIGHT_NOTICE ***</font>
00002 <font class="comment">// *** END_XVISION2_COPYRIGHT_NOTICE ***</font>
00003 
00004 <font class="comment">//---------------------------------------------------------------------</font>
00005 <font class="comment">//*</font>
00006 <font class="comment">//* XVMatrix.icc</font>
00007 <font class="comment">//*</font>
00008 <font class="comment">//* 02/20/95 Gregory D. Hager</font>
00009 <font class="comment">//* </font>
00010 <font class="comment">//* inline functions for the XVMatrix classes defined in the file XVMatrix.h</font>
00011 <font class="comment">//*</font>
00012 <font class="comment">//---------------------------------------------------------------------</font>
00013 
00014 <font class="preprocessor">#ifndef _XVMATRIX_ICC_
</font>00015 <font class="preprocessor"></font><font class="preprocessor">#define _XVMATRIX_ICC_
</font>00016 <font class="preprocessor"></font>
00017 <font class="comment">// This must be #included from within the Matrix.hh file in order</font>
00018 <font class="comment">//    to use the #define macros, etc.</font>
00019 
00020 <font class="keyword">inline</font>
00021 RefCounter*
00022 XVMatrix::ref()<font class="keyword">
</font>00023 <font class="keyword"></font>{
00024   <font class="keywordflow">if</font> (refPtr == NULL) {
00025     refPtr = <font class="keyword">new</font> RefCounter;
00026     refPtr-&gt;data = data;
00027     refPtr-&gt;refCount = 0;
00028   }
00029   refPtr-&gt;refCount++;
00030   <font class="keywordflow">return</font> refPtr;
00031 }
00032 
00033 <font class="keyword">inline</font>
00034 <font class="keywordtype">void</font>
00035 XVMatrix::unref()<font class="keyword"> </font>{refPtr-&gt;refCount--;}
00036 
00037 <font class="keyword">inline</font>
00038 <font class="keywordtype">int</font>
00039 XVMatrix::dataShared()<font class="keyword"> </font>{<font class="keywordflow">return</font> ((refPtr!=NULL) &amp;&amp; (refPtr-&gt;refCount &gt; 0));};
00040 
00041 <font class="keyword">inline</font>
00042 XVMatrix::XVMatrix(XVMatrix &amp;m, <font class="keywordtype">int</font> startr, <font class="keywordtype">int</font> startc, <font class="keywordtype">int</font> nrows, <font class="keywordtype">int</font> ncols)<font class="keyword">
</font>00043 <font class="keyword"></font>{
00044   <font class="keywordflow">if</font> ( (startr&lt;0) || (startc&lt;0) )
00045     _panic(<font class="stringliteral">"Illegal submatrix operation \n"</font>);
00046   <font class="keywordflow">if</font> (((startr + nrows) &gt; m.rowNum) || ((startc + ncols) &gt; m.colNum))
00047     _panic (<font class="stringliteral">"Submatrix larger than matrix \n"</font>);
00048   
00049   init(m,startr,startc,nrows,ncols);
00050 }
00051 
00052 <font class="keyword">inline</font>
00053 XVMatrix::XVMatrix()<font class="keyword"> 
</font>00054 <font class="keyword"></font>{
00055   init_empty();
00056 }
00057 
00058 <font class="keyword">inline</font>
00059 XVMatrix::XVMatrix(<font class="keywordtype">int</font> rr,<font class="keywordtype">int</font> cc)<font class="keyword">
</font>00060 <font class="keyword"></font>{
00061   init_empty();
00062   resize(rr, cc);
00063 }
00064 
00065 <font class="keyword">inline</font>
00066 <font class="keywordtype">int</font>
00067 XVMatrix::n_of_rows()<font class="keyword"> const   </font>{ <font class="keywordflow">return</font> rowNum; }
00068 
00069 <font class="keyword">inline</font>
00070 <font class="keywordtype">int</font>
00071 XVMatrix::n_of_cols()<font class="keyword"> const   </font>{ <font class="keywordflow">return</font> colNum; }
00072 
00073 
00074 <font class="preprocessor">#ifndef NO_BOUNDS_CHECK
</font>00075 <font class="preprocessor"></font><font class="keyword">inline</font>
00076 <a class="code" href="class__rowvec.html">_rowvec</a>
00077 XVMatrix::operator[](<font class="keywordtype">int</font> n)<font class="keyword">
</font>00078 <font class="keyword"></font>{
00079   <font class="keywordflow">if</font>((n&lt;0) || (n &gt;= rowNum)) {
00080     printf(<font class="stringliteral">"n=%d, rowNum=%d\n"</font>, n, rowNum); fflush(stdout);
00081     _panic(<font class="stringliteral">"Bounds error on first matrix subscript"</font>);
00082   }
00083   <font class="keywordflow">return</font> _rowvec(rowPtrs[n],colNum);
00084 }
00085 <font class="preprocessor">#else
</font>00086 <font class="preprocessor"></font><font class="keyword">inline</font>
00087 FrReal*
00088 XVMatrix::operator[](<font class="keywordtype">int</font> n)<font class="keyword"> </font>{<font class="keywordflow">return</font> rowPtrs[n];}
00089 <font class="preprocessor">#endif
</font>00090 <font class="preprocessor"></font>
00091 <font class="keyword">inline</font>
00092 FrReal*
00093 XVMatrix::operator[](<font class="keywordtype">int</font> n)<font class="keyword"> const </font>{<font class="keywordflow">return</font> rowPtrs[n];}
00094 
00095 <font class="preprocessor">#ifdef SUBSCRIPT_START_WITH_1 
</font>00096 <font class="preprocessor"></font>
00097 <font class="keyword">inline</font>
00098 XVMatrix
00099 XVMatrix::operator()(<font class="keywordtype">int</font> sr, <font class="keywordtype">int</font> lr, <font class="keywordtype">int</font> sc, <font class="keywordtype">int</font> lc)<font class="keyword">
</font>00100 <font class="keyword"></font>{<font class="keywordflow">return</font> XVMatrix(*<font class="keyword">this</font>,sr-1,sc-1,lr-sr+1,lc-sc+1);}
00101 
00102 <font class="keyword">inline</font>
00103 XVMatrix
00104 XVMatrix::Rows(<font class="keywordtype">int</font> first_row, <font class="keywordtype">int</font> last_row)<font class="keyword">
</font>00105 <font class="keyword"></font>{<font class="keywordflow">return</font> XVMatrix(*<font class="keyword">this</font>, first_row-1, 0, last_row-first_row+1, colNum);}
00106 
00107 <font class="keyword">inline</font>
00108 XVMatrix
00109 XVMatrix::Columns(<font class="keywordtype">int</font> first_col, <font class="keywordtype">int</font> last_col)<font class="keyword">
</font>00110 <font class="keyword"></font>{<font class="keywordflow">return</font> XVMatrix(*<font class="keyword">this</font>, 0, first_col-1, rowNum, last_col-first_col+1);}
00111         
00112 <font class="preprocessor">#else
</font>00113 <font class="preprocessor"></font>
00114   <font class="comment">// matrix subscripts start with 0</font>
00115 <font class="keyword">inline</font>
00116 XVMatrix
00117 XVMatrix::operator()(<font class="keywordtype">int</font> sr, <font class="keywordtype">int</font> lr, <font class="keywordtype">int</font> sc, <font class="keywordtype">int</font> lc)<font class="keyword">
</font>00118 <font class="keyword"></font>{<font class="keywordflow">return</font> XVMatrix(*<font class="keyword">this</font>,sr,sc,lr-sr+1,lc-sc+1);}
00119 
00120 <font class="keyword">inline</font>
00121 XVMatrix
00122 XVMatrix::Rows(<font class="keywordtype">int</font> first_row, <font class="keywordtype">int</font> last_row)<font class="keyword">
</font>00123 <font class="keyword"></font>{<font class="keywordflow">return</font> XVMatrix(*<font class="keyword">this</font>, first_row, 0, last_row-first_row+1, colNum);}
00124 
00125 <font class="keyword">inline</font>
00126 XVMatrix
00127 XVMatrix::Columns(<font class="keywordtype">int</font> first_col, <font class="keywordtype">int</font> last_col)<font class="keyword">
</font>00128 <font class="keyword"></font>{<font class="keywordflow">return</font> XVMatrix(*<font class="keyword">this</font>, 0, first_col, rowNum, last_col-first_col+1);}
00129 
00130 <font class="preprocessor">#endif // SUBSCRIPT_START_WITH_1
</font>00131 <font class="preprocessor"></font> 
00132 <font class="comment">// End of XVMatrix class inline functions</font>
00133 <font class="comment">// Start of XVRowVector class inline functions</font>
00134 
00135 <font class="keyword">inline</font>
00136 XVRowVector::XVRowVector() : XVMatrix() {;}
00137 
00138 <font class="keyword">inline</font>
00139 XVRowVector::XVRowVector(<font class="keywordtype">int</font> nn) : XVMatrix(1,nn){;}
00140 
00141 <font class="keyword">inline</font>
00142 <font class="keywordtype">void</font>
00143 XVRowVector::resize(<font class="keywordtype">int</font> i)<font class="keyword">
</font>00144 <font class="keyword"></font>{
00145   XVMatrix::resize(1, i);
00146 }
00147 
00148 <font class="keyword">inline</font>
00149 <font class="keywordtype">void</font>
00150 XVColVector::resize(<font class="keywordtype">int</font> i)<font class="keyword">
</font>00151 <font class="keyword"></font>{
00152   XVMatrix::resize(i, 1);
00153 }
00154 
00155 <font class="keyword">inline</font>
00156 FrReal&amp;
00157 XVRowVector::operator [](<font class="keywordtype">int</font> n)<font class="keyword">
</font>00158 <font class="keyword"></font>{
00159 <font class="preprocessor">#ifndef NO_BOUNDS_CHECK
</font>00160 <font class="preprocessor"></font>  <font class="keywordflow">if</font> ((n &lt; 0) || (n &gt;= colNum))
00161     _panic(<font class="stringliteral">"XVRowVector::operator[]: index out of range"</font>);
00162 <font class="preprocessor">#endif
</font>00163 <font class="preprocessor"></font>  <font class="keywordflow">return</font> rowPtrs[0][n];
00164 }
00165 
00166 <font class="keyword">inline</font>
00167 <font class="keyword">const</font> FrReal&amp;
00168 XVRowVector::operator [](<font class="keywordtype">int</font> n)<font class="keyword"> const
</font>00169 <font class="keyword"></font>{
00170 <font class="preprocessor">#ifndef NO_BOUNDS_CHECK
</font>00171 <font class="preprocessor"></font>  <font class="keywordflow">if</font> ((n &lt; 0) || (n &gt;= colNum))
00172     _panic(<font class="stringliteral">"XVRowVector:operator[]: index out of range"</font>);
00173 <font class="preprocessor">#endif
</font>00174 <font class="preprocessor"></font>  <font class="keywordflow">return</font> rowPtrs[0][n];
00175 }
00176 
00177 
00178 <font class="comment">// End of XVRowVector class inline functions</font>
00179 <font class="comment">// Start of XVColVector class inline functions</font>
00180 
00181 <font class="keyword">inline</font>
00182 XVColVector::XVColVector (<a class="code" href="class_XVColVector.html">XVColVector</a> &amp;m, <font class="keywordtype">int</font> startr, <font class="keywordtype">int</font> nrows)<font class="keyword">
</font>00183 <font class="keyword"></font>{
00184   <font class="keywordflow">if</font> (startr&lt;0)
00185     _panic(<font class="stringliteral">"Illegal submatrix operation in Colvector\n"</font>);
00186   <font class="keywordflow">if</font> ( (startr+nrows) &gt; m.rowNum )
00187     _panic(<font class="stringliteral">"Submatrix larger than matrix in Colvector\n"</font>);
00188   init(m, startr, 0, nrows, 1);
00189 }
00190 
00191 <font class="keyword">inline</font>
00192 XVColVector::XVColVector() : XVMatrix() {;}
00193 
00194 <font class="keyword">inline</font>
00195 XVColVector::XVColVector(<font class="keywordtype">int</font> nn) : XVMatrix(nn,1) {;}
00196 
00197 <font class="keyword">inline</font>
00198 XVColVector::~XVColVector()<font class="keyword"> </font>{;}
00199 
00200 <font class="keyword">inline</font>
00201 FrReal&amp;
00202 XVColVector::operator [](<font class="keywordtype">int</font> n)<font class="keyword">
</font>00203 <font class="keyword"></font>{
00204 <font class="preprocessor">#ifndef NO_BOUNDS_CHECK
</font>00205 <font class="preprocessor"></font>  <font class="keywordflow">if</font> ((n &lt; 0) || (n &gt;= rowNum))
00206     _panic(<font class="stringliteral">"XVColVector::operator[]: index out of range"</font>);
00207 <font class="preprocessor">#endif
</font>00208 <font class="preprocessor"></font>  <font class="keywordflow">return</font> rowPtrs[n][0];
00209 }
00210 
00211 <font class="keyword">inline</font>
00212 <font class="keyword">const</font> FrReal&amp;
00213 XVColVector::operator [](<font class="keywordtype">int</font> n)<font class="keyword"> const 
</font>00214 <font class="keyword"></font>{
00215 <font class="preprocessor">#ifndef NO_BOUNDS_CHECK
</font>00216 <font class="preprocessor"></font>  <font class="keywordflow">if</font> ((n &lt; 0) || (n &gt;= rowNum))
00217     _panic(<font class="stringliteral">"XVColVector::operator[]: index out of range"</font>);
00218 <font class="preprocessor">#endif
</font>00219 <font class="preprocessor"></font>  <font class="keywordflow">return</font> rowPtrs[n][0];
00220 }
00221 
00222 
00223 <font class="preprocessor">#ifdef SUBSCRIPT_START_WITH_1
</font>00224 <font class="preprocessor"></font>
00225 <font class="keyword">inline</font>
00226 <a class="code" href="class_XVColVector.html">XVColVector</a>
00227 XVColVector::Rows(<font class="keywordtype">int</font> first_row, <font class="keywordtype">int</font> last_row)<font class="keyword">
</font>00228 <font class="keyword"></font>{ <font class="keywordflow">return</font> XVColVector(*<font class="keyword">this</font>, first_row-1, last_row-first_row+1); }
00229 
00230 <font class="preprocessor">#else
</font>00231 <font class="preprocessor"></font>
00232 <font class="keyword">inline</font>
00233 <a class="code" href="class_XVColVector.html">XVColVector</a>
00234 XVColVector::Rows(<font class="keywordtype">int</font> first_row, <font class="keywordtype">int</font> last_row)<font class="keyword">
</font>00235 <font class="keyword"></font>{ <font class="keywordflow">return</font> XVColVector(*<font class="keyword">this</font>, first_row, last_row-first_row+1); }
00236 
00237 <font class="preprocessor">#endif
</font>00238 <font class="preprocessor"></font>
00239 <font class="comment">// End XVColVector inline functions</font>
00240 <font class="comment">// Start general inline functions</font>
00241 
00242 
00243 <font class="keyword">inline</font>
00244 XVRowVector::XVRowVector (<font class="keyword">const</font> <a class="code" href="class_XVRowVector.html">XVRowVector</a> &amp;v) : XVMatrix(v) {};
00245 
00246 <font class="keyword">inline</font>
00247 XVColVector::XVColVector (<font class="keyword">const</font> <a class="code" href="class_XVColVector.html">XVColVector</a> &amp;v) : XVMatrix(v) {};
00248 
00249 <font class="keyword">inline</font>
00250 XVRowVector::XVRowVector (XVMatrix &amp;m, <font class="keywordtype">int</font> i) : 
00251 XVMatrix(m, i, 0, 1, m.colNum) {};
00252 
00253 <font class="keyword">inline</font>
00254 XVColVector::XVColVector (XVMatrix &amp;m, <font class="keywordtype">int</font> j) : 
00255 XVMatrix(m, 0, j, m.rowNum, 1) {};
00256 
00257 <font class="preprocessor">#ifdef SUBSCRIPT_START_WITH_1
</font>00258 <font class="preprocessor"></font>
00259 <font class="keyword">inline</font> <a class="code" href="class_XVRowVector.html">XVRowVector</a> XVMatrix::row(<font class="keywordtype">int</font> i)<font class="keyword"> </font>{ <font class="keywordflow">return</font> XVRowVector(*<font class="keyword">this</font>, i-1); }
00260 <font class="keyword">inline</font> <a class="code" href="class_XVRowVector.html">XVRowVector</a> XVMatrix::Row(<font class="keywordtype">int</font> i)<font class="keyword"> </font>{ <font class="keywordflow">return</font> XVRowVector(*<font class="keyword">this</font>, i-1); }
00261 <font class="keyword">inline</font> <a class="code" href="class_XVColVector.html">XVColVector</a> XVMatrix::col(<font class="keywordtype">int</font> j)<font class="keyword"> </font>{ <font class="keywordflow">return</font> XVColVector(*<font class="keyword">this</font>, j-1); }
00262 <font class="keyword">inline</font> <a class="code" href="class_XVColVector.html">XVColVector</a> XVMatrix::Column(<font class="keywordtype">int</font> j)<font class="keyword"> </font>{ <font class="keywordflow">return</font> XVColVector(*<font class="keyword">this</font>, j-1); }
00263 
00264 <font class="preprocessor">#else
</font>00265 <font class="preprocessor"></font>
00266 <font class="keyword">inline</font> <a class="code" href="class_XVRowVector.html">XVRowVector</a> XVMatrix::row(<font class="keywordtype">int</font> i)<font class="keyword"> </font>{ <font class="keywordflow">return</font> XVRowVector(*<font class="keyword">this</font>, i); }
00267 <font class="keyword">inline</font> <a class="code" href="class_XVRowVector.html">XVRowVector</a> XVMatrix::Row(<font class="keywordtype">int</font> i)<font class="keyword"> </font>{ <font class="keywordflow">return</font> XVRowVector(*<font class="keyword">this</font>, i); }
00268 <font class="keyword">inline</font> <a class="code" href="class_XVColVector.html">XVColVector</a> XVMatrix::col(<font class="keywordtype">int</font> j)<font class="keyword"> </font>{ <font class="keywordflow">return</font> XVColVector(*<font class="keyword">this</font>, j); }
00269 <font class="keyword">inline</font> <a class="code" href="class_XVColVector.html">XVColVector</a> XVMatrix::Column(<font class="keywordtype">int</font> j)<font class="keyword"> </font>{ <font class="keywordflow">return</font> XVColVector(*<font class="keyword">this</font>, j); }
00270 
00271 <font class="preprocessor">#endif // SUBSCRIPT_START_WITH_1
</font>00272 <font class="preprocessor"></font>
00273 
00274 
00275 <font class="comment">// End general inline functions</font>
00276 <font class="comment">// Minimal Diagonal XVMatrix class </font>
00277 
00278 <font class="keyword">inline</font>
00279 XVDiagonalMatrix::XVDiagonalMatrix(<font class="keywordtype">int</font> n) : t(n) {;}
00280 
00281 <font class="keyword">inline</font>
00282 XVDiagonalMatrix::XVDiagonalMatrix(<font class="keyword">const</font> <a class="code" href="class_XVColVector.html">XVColVector</a> &amp;tin) : t(tin) {;}
00283 
00284 <font class="keyword">inline</font>
00285 <font class="keywordtype">int</font>
00286 XVDiagonalMatrix::n_of_cols()<font class="keyword"> const </font>{<font class="keywordflow">return</font> t.n_of_rows();}
00287 
00288 <font class="keyword">inline</font>
00289 <font class="keywordtype">int</font>
00290 XVDiagonalMatrix::n_of_rows()<font class="keyword"> const </font>{<font class="keywordflow">return</font> t.n_of_rows();}
00291 
00292 <font class="keyword">inline</font>
00293 <a class="code" href="class_XVColVector.html">XVColVector</a>&amp;
00294 XVDiagonalMatrix::diagonal()<font class="keyword"> </font>{<font class="keywordflow">return</font> t;}
00295 
00296 <font class="keyword">inline</font>
00297 <font class="keywordtype">void</font>
00298 XVDiagonalMatrix::resize(<font class="keywordtype">int</font> n)<font class="keyword"> </font>{t.<a class="code" href="class_XVColVector.html#a4">resize</a>(n);}
00299 
00300 <font class="keyword">inline</font>
00301 FrReal&amp;
00302 XVDiagonalMatrix::operator() (<font class="keywordtype">int</font> n)<font class="keyword"> </font>{<font class="keywordflow">return</font> t[n];}
00303 
00304 <font class="keyword">inline</font>
00305 FrReal
00306 XVDiagonalMatrix::operator() (<font class="keywordtype">int</font> n)<font class="keyword"> const </font>{<font class="keywordflow">return</font> t[n];}
00307 
00308 <font class="keyword">inline</font>
00309 <a class="code" href="class_XVDiagonalMatrix.html">XVDiagonalMatrix</a>&amp;
00310 XVDiagonalMatrix::operator = (<font class="keyword">const</font> <a class="code" href="class_XVDiagonalMatrix.html">XVDiagonalMatrix</a> &amp;m)<font class="keyword"> </font>{t = m.t; <font class="keywordflow">return</font> *<font class="keyword">this</font>;}
00311 
00312 <font class="keyword">inline</font>
00313 <a class="code" href="class_XVDiagonalMatrix.html">XVDiagonalMatrix</a>&amp;
00314 XVDiagonalMatrix::operator = (FrReal x)<font class="keyword"> </font>{t = x; <font class="keywordflow">return</font> *<font class="keyword">this</font>;}
00315 
00316 <font class="comment">// End of Diagonal Matrix inline functions</font>
00317 
00318 <font class="comment">// Beginning of templated functions requiring instantiation</font>
00319 
00320 
00321 <font class="preprocessor">#include &lt;XVImageScalar.h&gt;</font>
00322 
00323 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00324 <a class="code" href="class_XVColVector.html">XVColVector</a>&amp;
00325 operator &lt;&lt;(<a class="code" href="class_XVColVector.html">XVColVector</a> &amp;t,<font class="keyword">const</font> <a class="code" href="class_XVImageScalar.html">XVImageScalar</a>&lt;T&gt; &amp;x)<font class="keyword">
</font>00326 <font class="keyword"></font>{
00327   <font class="keywordtype">int</font> i;
00328   <font class="keyword">const</font> T *ptr = x.data();
00329 
00330   t.resize(x.Width()*x.Height());
00331   <font class="keywordflow">for</font> (i=0;i&lt;t.n_of_rows();i++)
00332     t[i] = (FrReal)(*ptr++);
00333 
00334   <font class="keywordflow">return</font> t;
00335 }
00336 
00337 
00338 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00339 <a class="code" href="class_XVRowVector.html">XVRowVector</a>&amp;
00340 operator &lt;&lt; (<font class="keyword">const</font> <a class="code" href="class_XVRowVector.html">XVRowVector</a> &amp;t,<a class="code" href="class_XVImageScalar.html">XVImageScalar</a>&lt;T&gt; &amp;x)<font class="keyword">
</font>00341 <font class="keyword"></font>{
00342   <font class="keywordtype">int</font> i;
00343   <font class="keyword">const</font> T *ptr = x.data();
00344 
00345   t.resize(x.Width()*x.Height());
00346   <font class="keywordflow">for</font> (i=0;i&lt;t.n_of_cols();i++)
00347     t[i] = (FrReal)(*ptr++);
00348 
00349   <font class="keywordflow">return</font> t;
00350 }
00351 
00352 
00353 
00354 
00355 
00356 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00357 <a class="code" href="class_XVImageScalar.html">XVImageScalar</a>&lt;T&gt;&amp;
00358 operator &gt;&gt;(<font class="keyword">const</font> <a class="code" href="class_XVColVector.html">XVColVector</a> &amp;t, <a class="code" href="class_XVImageScalar.html">XVImageScalar</a>&lt;T&gt; &amp;x)<font class="keyword">
</font>00359 <font class="keyword"></font>{
00360   <font class="keywordtype">int</font> i,j,k;
00361 
00362   <font class="keywordflow">if</font> (x.Width()*x.Height() != t.n_of_rows())
00363     _panic(<font class="stringliteral">"Image/matrix injection size mismatch"</font>);
00364 
00365   k=0;
00366   <font class="keywordflow">for</font> (i=0;i&lt;x.Height();i++)
00367     <font class="keywordflow">for</font> (j=0;j&lt;x.Width();j++)
00368       x[i][j] = T(t[k++]);
00369 
00370   <font class="keywordflow">return</font> x;
00371 }
00372 
00373 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00374 <a class="code" href="class_XVImageScalar.html">XVImageScalar</a>&lt;T&gt;&amp;
00375 operator &gt;&gt;(<font class="keyword">const</font> <a class="code" href="class_XVRowVector.html">XVRowVector</a> &amp;t, <a class="code" href="class_XVImageScalar.html">XVImageScalar</a>&lt;T&gt; &amp;x)<font class="keyword">
</font>00376 <font class="keyword"></font>{
00377   <font class="keywordtype">int</font> i,j,k;
00378 
00379   <font class="keywordflow">if</font> (x.Width()*x.Height() != t.n_of_cols())
00380     _panic(<font class="stringliteral">"Image/matrix injection size mismatch"</font>);
00381 
00382   k=0;
00383   <font class="keywordflow">for</font> (i=0;i&lt;x.Height();i++)
00384     <font class="keywordflow">for</font> (j=0;j&lt;x.Width();j++)
00385       x[i][j] = T(t[k++]);
00386 
00387   <font class="keywordflow">return</font> x;
00388 }
00389 
00390 <font class="keyword">template</font> &lt;<font class="keyword">class </font>T&gt;
00391 XVMatrix add_column(XVMatrix &amp;x, <a class="code" href="class_XVImageScalar.html">XVImageScalar</a>&lt;T&gt; &amp;I)<font class="keyword">
</font>00392 <font class="keyword"></font>{
00393   <a class="code" href="class_XVColVector.html">XVColVector</a> temp;
00394   temp &lt;&lt; I;
00395   <font class="keywordflow">return</font> add_column(x, temp);
00396 }
00397 
00398 
00399 <font class="keyword">inline</font> XVMatrix XVZeroMatrix(<font class="keywordtype">int</font> rows,<font class="keywordtype">int</font> cols)<font class="keyword">
</font>00400 <font class="keyword"></font>{
00401    XVMatrix ret(rows,cols);
00402 
00403    <font class="keywordflow">for</font>(<font class="keywordtype">int</font> i=0;i&lt;rows;i++)
00404      <font class="keywordflow">for</font>(<font class="keywordtype">int</font> j=0;j&lt;cols;j++) ret[i][j]=0.0;
00405 
00406    <font class="keywordflow">return</font> ret;
00407 };
00408 
00409 <font class="keyword">inline</font> XVMatrix XVIdentityMatrix(<font class="keywordtype">int</font> mat_size)<font class="keyword">
</font>00410 <font class="keyword"></font>{
00411   XVMatrix ret=XVZeroMatrix(mat_size,mat_size);
00412   <font class="keywordflow">for</font>(<font class="keywordtype">int</font> i=0;i&lt;mat_size;i++) ret[i][i]=1.0;
00413 
00414   <font class="keywordflow">return</font> ret;
00415 }
00416 <font class="preprocessor">#endif
</font>00417 <font class="preprocessor"></font>
00418 
00419 
00420 
</div></pre><hr><address><small>Generated at Fri Oct 26 00:17:16 2007 for XVision by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.0 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
